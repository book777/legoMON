# legoMON

Скрипт мониторинга игровых серверов minecraft
https://mymine.su/threads/129/ - шаблоны

 Устанавливаем папку legoMON в корень сайта

 Первым делом нужно настроить конфигурационный файл (config.php)

	 Там будет переменная $server[]
		1) Адрес сервера (обязательный параметр)
		2) Название
		3) Может быть путь к описанию
		4)..
	
	Далее необходимо будет указать путь, куда будет сохраняться сгенерированный мониторинг
		$file['template'] = '../templates/Default/book777.tpl';// для DLE (правильно укажите папку с шаблоном)
		$file['template'] = '../style/default/book777.html';// для webMCR

	Можно, конечно, обойтись iframe подключением. Тогда нам сохранение в файл не потребуется, но понадобится другая переменная - $time['cache']. Она необходима в случае частого обращения к скрипту

	$time['out'] нужна для выявления лагающего сервера (вылетит ошибка "Большой пинг"). Есть вероятность в показе этой ошибки из-за неизвестного ядра сервера

	date_default_timezone_set() необходим, если ваш сайт находится, к примеру, в Германии, а вы живете в России. Время рекорда онлайна будет показывать время вашего проживания, а не сайта


В дальнейшем нужно будет создать стиль мониторинга, зайдя в папку template и отредактировав каждый файл.

Дело остается за подключением мониторинга к сайту

	Через cron:
		Обновление будет осуществляться в фоновом режиме, а значит при большой посещаимости сайта нагрузки на хостинг будут минимальны 
		В панели управления нужно найти пункт "Планировщик задач (cron)", добавить новую задачу, нуставить необходимую частоту обновления (с этой частотой будет обновляться мониторинг), и указать файл "вашсайт.ru/legoMON/index.php"

  На сайте подключить генерируемый файл

    если webMCR - вставить в нужное место шаблона
			<? include 'book777.html';?>
		
    если DLE - вставить в нужное место шаблона
			{include file='book777.tpl'}

  Через iframe (метод устаревший, небезопасный и нагружаемый)
    С помощью http://htmlbook.ru/html/iframe вставить ссылку "вашсайт.ru/legoMON/index.php"
